<div class='content-div'>
	<div class="row-fluid">
		<div class="span12 asset-view-container">
			<div id='msg-container-recent-activity'></div>
			<div class="widget wlightblue">
				<div class="widget-head">
					<div class="pull-left">Edit Web Application - {{{snoop
						"fields(name=overview_name).value" this.data}}}</div>
					<div class="clearfix"></div>
				</div>
				<div class="widget-content">
					<form class="form-horizontal" id='form-asset-edit'>
						<fieldset>
							<legend>General Details</legend>
							{{{ form_render "overview_provider" data.fields }}} 
							{{{form_render "overview_name" data.fields }}} 
							{{{ form_render "overview_context" data.fields }}}
							{{{ form_render "overview_version" data.fields }}}
							{{{ form_render "overview_transports" data.fields }}}
						    {{{ form_render "overview_webAppUrl" data.fields }}} 
							{{{ form_render "overview_description" data.fields }}}
							{{{ form_render "images_icon"data.fields }}}
						    {{{ form_render "images_thumbnail" data.fields}}}
							{{{ form_render "images_banner" data.fields }}}
							{{{ form_render "overview_logoutUrl" data.fields }}}
							
						<div class="control-group">
                            <b><label class="control-label">Roles: </label></b>
                            <div class="controls">
                                <input type="text" id="roles" name="roles">
                                <table id="permissionsTable">
                                    <tbody>
                                        <tr>
                                            <td><b>Role</b></td>
                                            <td>Get</td>
                                            <td>Edit</td>
                                            <td>Delete</td>
                                            <td>Authorize</td>
                                        </tr>
                                        {{#each data.permissions}}
                                        <tr class="role-permission" data-role="{{this.role}}">
                                            <td>{{this.role}}</td>
                                            <td><input class="perm-check" data-perm="GET" type="checkbox" data-permissions="{{this.permissions}}"></td>
                                            <td><input class="perm-check" data-perm="PUT" type="checkbox" data-permissions="{{this.permissions}}"></td>
                                            <td><input class="perm-check" data-perm="DELETE" type="checkbox" data-permissions="{{this.permissions}}"></td>
                                            <td><input class="perm-check" data-perm="AUTHORIZE" type="checkbox" data-permissions="{{this.permissions}}"></td>
                                        </tr>
                                        {{/each}}
                                    </tbody>
                                </table>
                            </div>
                        </div>


							<div class="control-group">
								<b><label class="control-label">Tags: </label></b>
								<div class="controls">
									<input type='text' id='tag-test' name='tags'>
								</div>
							</div>

						</fieldset>



						<fieldset>
							<legend style="margin-bottom: 0px;">Web Application
								Resources</legend>
							<div class="resource_form"
								style="background: #EEE; padding: 10px 0 1px 0;">
								<div class="control-group">
									<b><label class="control-label">URL Pattern</label></b>
									<div class="controls">
										<div class="input-prepend">
											<span class="add-on">/{context}/{version}/</span> <input
												class="span2" id="url_pattern" type="text"
												placeholder="path/to/resource" style="width: 400px">
										</div>
									</div>
								</div>
								<div class="control-group">
									<b><label class="control-label">HTTP Verb</label></b>
									<div class="controls">
										<label class="checkbox inline"><input value="GET"
											class="http_verb" type="checkbox">GET</label> <label
											class="checkbox inline"><input value="POST"
											class="http_verb" type="checkbox">POST</label> <label
											class="checkbox inline"><input value="PUT"
											class="http_verb" type="checkbox">PUT</label> <label
											class="checkbox inline"><input value="DELETE"
											class="http_verb" type="checkbox">DELETE</label> <label
											class="checkbox inline"><input value="OPTIONS"
											class="http_verb" type="checkbox">OPTIONS</label>
									</div>
								</div>
								<div class="control-group">
									<div class="controls">
										<button class="btn" type="button" id="add_resource">Add
											Resource</button>
										<button class="btn" type="button" id="clear_resource">Clear</button>
									</div>
								</div>
							</div>
							<!-- resource form-->



							<script type="text/javascript">
						var RESOURCES_1 = [];
						
						var RESOURCES = {{{dump data.fields}}};
						var uriTemplate = 0;
						for(index = 0; index < RESOURCES.length; index++){
							
							if(RESOURCES[index].name == "uritemplate_urlPattern"+uriTemplate){
								var resource = {};
								resource.url_pattern = RESOURCES[index].value;
								resource.http_verb = RESOURCES[index+1].value;
								resource.throttling_tier =RESOURCES[index+2].value;
								resource.skipthrottle = RESOURCES[index+3].value
								RESOURCES_1.push(resource);
								uriTemplate++;
							}
							
							
							
							
								
						}
						
						 </script>
							<table
								class="table table-striped table-bordered table-condensed table-hover"
								style="margin-top: 10px;">
								<thead>
									<tr>
										<th>URL Pattern</th>
										<th style="width: 70px">HTTP Verb</th>
										<th style="width: 150px">Auth Type</th>
										<th style="width: 100px">Throttling Tier</th>
										<th style="width: 55px"></th>
									</tr>
								</thead>
								<tbody id="resource_tbody">

								</tbody>
							</table>
						</fieldset>
						
						<!--
						{{#each data.fields}}

						{{/each}}-->

						<div id="saveButtons" class="form-actions">
							<input type="button" value="Update" class="btn btn-primary"
								name="editAssetButton" id="editAssetButton"> <input
								type="reset" value="Reset" class="btn"> <input
								type="hidden" value="{{shortName}}" name="{{shortName}}"
								id="meta-asset-type">
						</div>
					</form>
				</div>
			</div>

		</div>
	</div>
</div>

